Devllo Accessibility Controls – v0.1.0 Build Checklist

1. Identity & Structure

1.1 Decide identity
- [ ] Confirm plugin slug: `devllo-accessibility-controls`
- [ ] Confirm text domain: `devllo-accessibility-controls`
- [ ] Confirm namespace: `DA11Y\`
- [ ] Confirm function prefix: `da11y_`
- [ ] Confirm constant prefix: `DA11Y_`

1.2 Folder & files
- [ ] Use existing folder: `wp-content/plugins/devllo-accessibility-controls/`
- [ ] Use main file: `devllo-accessibility-controls.php`
- [ ] Create/complete `readme.txt`

1.3 Directories
- [ ] Ensure `includes/` exists
- [ ] Ensure `assets/css/` exists
- [ ] Ensure `assets/js/` exists
- [ ] Ensure `languages/` exists

1.4 Class files (stubs)
- [ ] `includes/class-plugin.php`
- [ ] `includes/class-assets.php`
- [ ] `includes/class-devllo-accessibility-controls.php` (controls)
- [ ] `includes/class-settings.php`

2. Core Bootstrap

2.1 Main plugin file (`devllo-accessibility-controls.php`)
- [ ] Add/verify standard plugin header (name, description, version, etc.)
- [ ] Define constants: `DA11Y_PLUGIN_VERSION`, `DA11Y_PLUGIN_PATH`, `DA11Y_PLUGIN_URL`
- [ ] `require_once` `includes/class-plugin.php`
- [ ] Define `da11y_init_plugin()` that calls `DA11Y\Plugin::instance()`
- [ ] Hook `da11y_init_plugin()` to `plugins_loaded`

2.2 Plugin singleton (`includes/class-plugin.php`)
- [ ] Create `DA11Y\Plugin` singleton with `instance()` and `init()`
- [ ] Implement `load_textdomain()` for `devllo-accessibility-controls` from `/languages`
- [ ] Include:
  - [ ] `class-assets.php`
  - [ ] `class-devllo-accessibility-controls.php`
  - [ ] `class-settings.php`
- [ ] Instantiate:
  - [ ] `DA11Y\Assets`
  - [ ] `DA11Y\Accessibility_Controls`
  - [ ] `DA11Y\Settings`

3. Frontend Asset Loading

3.1 Assets class (`includes/class-assets.php`)
- [ ] Create `DA11Y\Assets` class
- [ ] Hook into `wp_enqueue_scripts` (frontend only)
- [ ] Enqueue CSS: `assets/css/frontend.css` (handle e.g. `da11y-frontend`)
- [ ] Enqueue JS: `assets/js/frontend.js` (handle e.g. `da11y-frontend`, in footer, no jQuery)
- [ ] Localize minimal config to JS:
  - [ ] Enabled features: `textSize`, `contrast` (both `true` for 0.1.0)
  - [ ] Default states: both off

3.2 CSS planning (`assets/css/frontend.css`)
- [ ] Define `.da11y-` prefix for all plugin UI styles
- [ ] Floating trigger button base styles (bottom-right position)
- [ ] Basic dialog/modal layout (overlay, panel, spacing, typography)
- [ ] Visible focus styles for all interactive elements
- [ ] Classes for:
  - [ ] Text size scaling (e.g. `.da11y-text-scale-X`)
  - [ ] High contrast mode (e.g. `.da11y-contrast-on` on `html`/`body`)

3.3 JS planning (`assets/js/frontend.js`)
- [ ] Define one main module/object (avoid global pollution)
- [ ] On DOM ready:
  - [ ] Read localized config object
  - [ ] Cache DOM elements: trigger, dialog, controls
  - [ ] Load preferences from `localStorage`
  - [ ] Apply initial classes to `html`/`body`

4. Frontend UI Markup

4.1 Controls class (`includes/class-devllo-accessibility-controls.php`)
- [ ] Create `DA11Y\Accessibility_Controls` class
- [ ] Hook into `wp_footer` or `wp_body_open`

4.2 Trigger button (always rendered when plugin enabled)
- [ ] Render “Accessibility Options” button (translatable)
- [ ] Apply position class (e.g. `.da11y-position-bottom-right`)
- [ ] Ensure it is keyboard focusable

4.3 Dialog markup
- [ ] Render a single dialog container with:
  - [ ] Heading (e.g. “Accessibility Settings”)
  - [ ] Short description text
  - [ ] Section: Text size
    - [ ] Smaller button
    - [ ] Larger button
    - [ ] Reset button
  - [ ] Section: High contrast
    - [ ] Toggle (button or checkbox)
  - [ ] Global reset button
- [ ] Add ARIA attributes:
  - [ ] `role="dialog"`
  - [ ] `aria-modal="true"`
  - [ ] `aria-labelledby` (point to heading)
  - [ ] `aria-describedby` (point to description)

4.4 Class application target
- [ ] Choose whether to apply mode classes on `html` or `body` (pick one)
- [ ] Standardize on a class naming pattern (e.g. `.da11y-contrast-on`, `.da11y-text-scale-1`)

5. JS Behavior (Prototype Features)

5.1 State model
- [ ] Define preferences object with:
  - [ ] `textScale` (integer, 0 as default)
  - [ ] `contrast` (boolean)
- [ ] On init:
  - [ ] Load existing preferences from `localStorage`
  - [ ] Merge with defaults from PHP config
  - [ ] Apply classes to `html`/`body`

5.2 Dialog control
- [ ] Trigger button:
  - [ ] On click/Enter/Space → open dialog
  - [ ] Move focus to first focusable element inside dialog
- [ ] Escape key:
  - [ ] Close dialog
  - [ ] Return focus to trigger button
- [ ] Basic focus trap:
  - [ ] Identify first and last focusable items
  - [ ] Loop Tab/Shift+Tab inside dialog

5.3 Text size controls
- [ ] Increase:
  - [ ] Increment `textScale` up to max
  - [ ] Update classes on `html`/`body`
  - [ ] Save to `localStorage`
- [ ] Decrease:
  - [ ] Decrement `textScale` down to min
  - [ ] Update classes
  - [ ] Save to `localStorage`
- [ ] Reset:
  - [ ] Set `textScale` back to 0 (default)
  - [ ] Update classes
  - [ ] Save to `localStorage`

5.4 High contrast toggle
- [ ] Toggle:
  - [ ] Flip `contrast` boolean in state
  - [ ] Add/remove high contrast class on `html`/`body`
  - [ ] Save to `localStorage`

5.5 Reset all
- [ ] Clear/restore preferences to defaults
- [ ] Remove/adjust all mode classes
- [ ] Clear or overwrite `localStorage` entry

5.6 Error handling
- [ ] Wrap `localStorage` usage in try/catch
- [ ] Guard against missing DOM nodes

6. Minimal Hybrid Settings

6.1 Settings class (`includes/class-settings.php`)
- [ ] Create `DA11Y\Settings` class
- [ ] Register single option `da11y_settings` (array)
- [ ] Define defaults:
  - [ ] `enabled` = `true`
  - [ ] `button_position` = `bottom_right`

6.2 Settings page
- [ ] Add options page under `Settings → Accessibility Controls`
- [ ] Create fields:
  - [ ] Checkbox: “Enable Accessibility Controls”
  - [ ] Select: “Button position” (bottom-right, bottom-left, top-right, top-left)
- [ ] Implement sanitization for option values

6.3 Settings integration
- [ ] Provide helper, e.g. `DA11Y\Settings::get()` to return merged defaults + stored values
- [ ] In `DA11Y\Accessibility_Controls`:
  - [ ] Only output UI if `enabled` is true
  - [ ] Apply position class based on `button_position`
- [ ] In `DA11Y\Assets`:
  - [ ] Optionally pass `button_position` and `enabled` to JS via localized config

7. Internationalization & Readme

7.1 i18n
- [ ] Wrap all PHP UI strings in `__()` / `_e()` with text domain `devllo-accessibility-controls`
- [ ] Ensure `load_plugin_textdomain()` points to `/languages`
- [ ] Plan to localize any JS strings via `wp_localize_script`

7.2 `readme.txt`
- [ ] Add required headers (Requires at least, Tested up to, Requires PHP, Stable tag = `0.1.0`)
- [ ] Short description: user-controlled accessibility enhancements (text size + high contrast + persistence)
- [ ] Long description: clarify scope and limitations
- [ ] Features list:
  - [ ] Text size controls
  - [ ] High contrast mode
  - [ ] Preference persistence
- [ ] FAQ entry:
  - [ ] “Does this make my site legally compliant?” → Answer: no, it helps users adjust the interface but doesn’t guarantee compliance

8. Manual Testing for v0.1.0

8.1 Frontend behavior
- [ ] On default theme, confirm:
  - [ ] Trigger button appears on all frontend pages
  - [ ] Clicking trigger opens dialog
  - [ ] Escape closes dialog and focus returns to trigger
  - [ ] Tab/Shift+Tab stay within dialog while open
  - [ ] Text size controls visually change content scale
  - [ ] High contrast toggles correctly change background/text colors
  - [ ] Preferences persist after page reload

8.2 Admin behavior
- [ ] Settings page loads without errors
- [ ] Changing “Enable” option hides/shows frontend UI
- [ ] Changing “Button position” moves trigger as expected

8.3 Basic accessibility checks
- [ ] All interactive elements reachable via keyboard
- [ ] Visible focus indicator on trigger and all dialog controls
- [ ] Dialog announced correctly by at least one screen reader (later)


Devllo Accessibility Controls – v0.2.0 Build Checklist

1. Scope for 0.2.0

1.1 New frontend features
- [ ] Dyslexia-friendly reading mode (font + spacing)
- [ ] Reduced motion mode (CSS + prefers-reduced-motion + override)

1.2 Admin options
- [ ] Add feature toggles for dyslexia mode and reduced motion
- [ ] Hide/show corresponding controls in the dialog based on settings

1.3 Documentation
- [ ] Update `readme.txt` features to include dyslexia font and reduced motion
- [ ] Clarify that these are user-controlled enhancements (not compliance features)

2. Dyslexia-Friendly Reading Mode

2.1 UI: dialog markup
- [ ] Add a new section to the dialog in `includes/class-devllo-accessibility-controls.php`:
  - [ ] Heading: “Reading mode” or “Dyslexia-friendly reading”
  - [ ] Toggle button or checkbox: “Dyslexia-friendly font”
- [ ] Wrap labels in translation functions with text domain `devllo-accessibility-controls`

2.2 CSS: font + spacing
- [ ] Add font files or font loading (e.g. in `assets/fonts/` or via a safe system stack)
- [ ] In `assets/css/frontend.css`:
  - [ ] Define `.da11y-dyslexia-on` (applied to `html`) that:
    - [ ] Sets a dyslexia-friendly font-family
    - [ ] Slightly increases line-height and letter-spacing for readability
  - [ ] Ensure styles are minimal and do not break layouts

2.3 JS: state + persistence
- [ ] In `assets/js/frontend.js`:
  - [ ] Extend `state` to include `dyslexia` (boolean, default `false`)
  - [ ] Extend `loadConfigDefaults()` and `loadStoredPreferences()` to handle `dyslexia`
  - [ ] Extend `applyStateToDOM()` to:
    - [ ] Add `.da11y-dyslexia-on` to `<html>` when enabled
    - [ ] Remove it when disabled
  - [ ] Cache the dyslexia toggle element in `cacheElements()`
  - [ ] Add a `bindEvents()` listener for the dyslexia toggle that:
    - [ ] Flips `state.dyslexia`
    - [ ] Updates DOM and calls `savePreferences()`
    - [ ] Optionally syncs `aria-pressed` or `aria-checked`

2.4 Settings integration
- [ ] In `includes/class-settings.php`:
  - [ ] Add `dyslexia_enabled` default (`true`)
  - [ ] Add a checkbox field “Enable dyslexia-friendly mode”
  - [ ] Update `sanitize()` to handle `dyslexia_enabled`
- [ ] In `DA11Y\Accessibility_Controls`:
  - [ ] Only render dyslexia controls if `dyslexia_enabled` is true
- [ ] In `DA11Y\Assets`:
  - [ ] Pass `dyslexia_enabled` into the localized config if needed

3. Reduced Motion Mode

3.1 UI: dialog markup
- [ ] Add a new section to the dialog:
  - [ ] Heading: “Motion” or “Reduced motion”
  - [ ] Toggle button or checkbox: “Reduce motion”

3.2 CSS: motion reductions
- [ ] In `assets/css/frontend.css`:
  - [ ] Define `.da11y-reduced-motion-on` for `<html>` that:
    - [ ] Sets `animation-duration` and `transition-duration` to `0s` or very small values for plugin UI
    - [ ] Avoids aggressive global overrides that could break themes
  - [ ] Ensure plugin UI itself does not introduce unnecessary motion

3.3 JS: state + prefers-reduced-motion
- [ ] In `assets/js/frontend.js`:
  - [ ] Extend `state` with `reducedMotion` (boolean)
  - [ ] On init:
    - [ ] Check `window.matchMedia('(prefers-reduced-motion: reduce)')`
    - [ ] If user has not chosen yet, use system preference as default
  - [ ] Extend `loadConfigDefaults()` / `loadStoredPreferences()` accordingly
  - [ ] Extend `applyStateToDOM()` to:
    - [ ] Add `.da11y-reduced-motion-on` to `<html>` when enabled
    - [ ] Remove when disabled
  - [ ] Cache the reduced motion toggle element in `cacheElements()`
  - [ ] Add a `bindEvents()` listener for the reduced motion toggle that:
    - [ ] Flips `state.reducedMotion`
    - [ ] Updates DOM and calls `savePreferences()`
    - [ ] Optionally syncs `aria-pressed` or `aria-checked`

3.4 Settings integration
- [ ] In `includes/class-settings.php`:
  - [ ] Add `reduced_motion_enabled` default (`true`)
  - [ ] Add a checkbox field “Enable reduced motion mode”
  - [ ] Update `sanitize()` to handle `reduced_motion_enabled`
- [ ] In `DA11Y\Accessibility_Controls`:
  - [ ] Only render reduced motion controls if `reduced_motion_enabled` is true
- [ ] In `DA11Y\Assets`:
  - [ ] Pass `reduced_motion_enabled` into the localized config if needed

4. Tests for v0.2.0

4.1 Frontend behavior
- [ ] Dyslexia toggle:
  - [ ] Applies dyslexia font and spacing
  - [ ] Persists across page loads
  - [ ] Can be turned off to restore original styles
- [ ] Reduced motion toggle:
  - [ ] Reduces/removes plugin UI motion when on
  - [ ] Respects `prefers-reduced-motion` when user has no explicit preference

4.2 Admin behavior
- [ ] “Enable dyslexia-friendly mode” toggle:
  - [ ] Hides/shows dyslexia controls in the dialog
- [ ] “Enable reduced motion mode” toggle:
  - [ ] Hides/shows reduced motion controls in the dialog

4.3 Accessibility checks
- [ ] New controls are keyboard reachable and focusable
- [ ] ARIA attributes on new toggles correctly reflect state
- [ ] Screen reader announces new controls clearly


Devllo Accessibility Controls – v0.3.0 Build Checklist

1. Scope for 0.3.0

1.1 Admin guidance focus
- [ ] Add an accessibility guidance/checklist experience for site owners
- [ ] Keep it explicitly non-audit, non-compliance, non-legal

1.2 What 0.3.0 should NOT do
- [ ] No automated “fix all issues” behavior
- [ ] No numeric compliance scores or badges
- [ ] No legal or WCAG compliance guarantees

2. Accessibility Guidance Admin Page

2.1 Page registration
- [ ] Add a new admin page under `Settings`:
  - [ ] Menu title: “Accessibility Guidance” (or reuse existing settings page with a second tab/section)
  - [ ] Capability: `manage_options`
  - [ ] Slug: e.g. `da11y_accessibility_guidance`

2.2 Page structure
- [ ] On the guidance page, include:
  - [ ] Intro paragraph clarifying purpose: guidance, not audit or legal advice
  - [ ] Short disclaimer message:
    - [ ] “These notes are informational only and do not constitute a compliance audit.”
  - [ ] Sections for:
    - [ ] Text & typography
    - [ ] Color & contrast
    - [ ] Keyboard & focus
    - [ ] Images & media
    - [ ] Motion & animation

2.3 Content for each section
- [ ] For each section, define 2–4 checklist items:
  - [ ] Each item has:
    - [ ] Title (e.g. “Maintain sufficient contrast”)
    - [ ] Short description explaining why it matters
    - [ ] Optional WCAG reference (e.g. “WCAG 2.1 – 1.4.3 Contrast (Minimum)”)
  - [ ] Clear, non-legal wording (no “guarantees”)

3. Checklist Data Model

3.1 Storage option
- [ ] Create a new option (e.g. `da11y_checklist`) or extend existing settings
- [ ] Structure:
  - [ ] Keys: stable identifiers for checklist items (e.g. `contrast`, `focus_visible`)
  - [ ] Values: status string, one of:
    - [ ] `reviewed`
    - [ ] `needs_attention`
    - [ ] `not_applicable`

3.2 Sanitization
- [ ] Implement sanitize callback to:
  - [ ] Ensure only known item keys are stored
  - [ ] Clamp values to allowed statuses

4. Checklist UI Behavior

4.1 Controls per item
- [ ] For each item in the admin UI:
  - [ ] Render title and description
  - [ ] Render status control:
    - [ ] A <select> or 3 radio buttons (Reviewed / Needs attention / Not applicable)

4.2 Saving behavior
- [ ] Integrate with WordPress Settings API:
  - [ ] `settings_fields()` + `do_settings_sections()` in the guidance page form
  - [ ] Save checklist statuses alongside other plugin settings

4.3 Visual cues
- [ ] Optionally add minimal visual cues:
  - [ ] Different text or subtle color for each status (e.g. neutral vs needs-attention)
  - [ ] Keep contrast and readability high

5. Optional “Basic Checks” (Informational Only)

5.1 Basic checks section
- [ ] Add an “Informational checks” area on the guidance page with clear disclaimer:
  - [ ] “These checks are partial and informational. They are not a full audit.”

5.2 Safe checks to implement
- [ ] Consider adding 1–3 very limited checks, such as:
  - [ ] Detect if a skip link is present in the theme output
  - [ ] Detect CSS rules that remove focus outlines (e.g. `outline: none` without replacement)
  - [ ] Approximate base font size check (warn if very small)

5.3 Output format
- [ ] For each check, display:
  - [ ] Simple message (e.g. “A skip link was not detected on the homepage.”)
  - [ ] Clear note that this is a heuristic, not a definitive assessment

6. Documentation & Positioning

6.1 Readme updates
- [ ] Update `readme.txt`:
  - [ ] Add a short section describing the admin accessibility guidance/checklist
  - [ ] Emphasize that it is an awareness tool, not a scanner or report

6.2 In-plugin messaging
- [ ] At the top of the guidance page, clearly state:
  - [ ] “This page provides guidance and a checklist to help you think about accessibility.”
  - [ ] “It is not a compliance audit or legal advice.”

7. Tests for v0.3.0

7.1 Admin behavior
- [ ] Guidance page appears under Settings for users with `manage_options`
- [ ] Checklist statuses can be changed and persist correctly
- [ ] Optional basic checks display messages without causing errors

7.2 Content & accessibility
- [ ] Guidance text is clear and avoids over-claiming
- [ ] All controls on the guidance page are keyboard accessible
- [ ] Headings and structure are logical for screen readers

4.4 Update Readme
