/* Root scope: all plugin UI uses .da11y- prefix */

/* Trigger button */
.da11y-trigger {
    z-index: 9999;

    padding: 0.75rem 1rem;
    border-radius: 0.25rem;
    border: none;

    background-color: #111;
    color: #fff;
    font-size: 0.875rem;
    cursor: pointer;
}

/* Generic active state for toggle buttons */
.da11y-toggle-active {
    background-color: #005fcc;
    color: #fff;
}

/* Trigger positioning */
.da11y-position-bottom-right {
    position: fixed;
    right: 1rem;
    bottom: 1rem;
}

.da11y-position-bottom-left {
    position: fixed;
    left: 1rem;
    bottom: 1rem;
}

.da11y-position-top-right {
    position: fixed;
    right: 1rem;
    top: 1rem;
}

.da11y-position-top-left {
    position: fixed;
    left: 1rem;
    top: 1rem;
}

/* Dialog overlay + panel */
.da11y-dialog-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 10000;
}

.da11y-dialog {
    position: fixed;
    right: 1rem;
    bottom: 4rem;
    max-width: 20rem;
    padding: 1rem;
    border-radius: 0.25rem;
    background: #fff;
    color: #111;
    z-index: 10001;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    font-size: 0.875rem;
}

/* Dialog close button */
.da11y-dialog-close {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: transparent;
    border: none;
    color: inherit;
    font-size: 1.25rem;
    cursor: pointer;
}

.da11y-dialog-close:focus {
    outline: 2px solid #005fcc;
    outline-offset: 2px;
}

/* Focus styles for plugin controls */
.da11y-trigger:focus,
.da11y-dialog button:focus,
.da11y-dialog [href]:focus,
.da11y-dialog [role="button"]:focus {
    outline: 2px solid #005fcc;
    outline-offset: 2px;
}

/* Text size scaling (applied to html/body) */
.da11y-text-scale-1 {
    font-size: 110%;
}

.da11y-text-scale-2 {
    font-size: 120%;
}

/* High contrast mode (applied to html/body) */
.da11y-contrast-on {
    background-color: #000 !important;
    color: #fff !important;
}

.da11y-contrast-on a {
    color: #ffea00 !important;
}

/* Dyslexia-friendly reading mode (applied to html) */
.da11y-dyslexia-on {
    /* Use a dyslexia-friendly font if available; fallback to a readable system stack. */
    font-family: "OpenDyslexic", "Atkinson Hyperlegible", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
    line-height: 1.6;
    letter-spacing: 0.02em;
}

/* Reduced motion mode (applied to html, but scoped to plugin UI) */
.da11y-reduced-motion-on .da11y-dialog,
.da11y-reduced-motion-on .da11y-trigger {
    animation: none !important;
    transition: none !important;
}

/* Spacing controls (applied to html/body) */
.da11y-spacing-1 body,
.da11y-spacing-1 .site,
.da11y-spacing-1 .entry-content {
    line-height: 1.6;
}

.da11y-spacing-1 .entry-content p,
.da11y-spacing-1 .entry-content li {
    margin-bottom: 1.25em;
}

.da11y-spacing-2 body,
.da11y-spacing-2 .site,
.da11y-spacing-2 .entry-content {
    line-height: 1.8;
}

.da11y-spacing-2 .entry-content p,
.da11y-spacing-2 .entry-content li {
    margin-bottom: 1.5em;
}

/* Dark mode (applied more broadly for readability) */
.da11y-theme-dark-mode body {
    background-color: #121212 !important;
    color: #e0e0e0 !important;
}

/* Common text elements: ensure light text in dark mode */
.da11y-theme-dark-mode body p,
.da11y-theme-dark-mode body li,
.da11y-theme-dark-mode body span,
.da11y-theme-dark-mode body div,
.da11y-theme-dark-mode body td,
.da11y-theme-dark-mode body th {
    color: #e0e0e0 !important;
}

/* Header / footer / nav backgrounds in dark mode */
.da11y-theme-dark-mode header,
.da11y-theme-dark-mode .site-header,
.da11y-theme-dark-mode footer,
.da11y-theme-dark-mode .site-footer,
.da11y-theme-dark-mode nav {
    background-color: #121212 !important;
}

.da11y-theme-dark-mode body a {
    color: #80b3ff !important;
}

.da11y-theme-dark-mode body h1,
.da11y-theme-dark-mode body h2,
.da11y-theme-dark-mode body h3,
.da11y-theme-dark-mode body h4,
.da11y-theme-dark-mode body h5,
.da11y-theme-dark-mode body h6 {
    color: #ffffff !important;
}

.da11y-theme-dark-mode body input,
.da11y-theme-dark-mode body textarea,
.da11y-theme-dark-mode body select {
    background-color: #1e1e1e !important;
    color: #e0e0e0 !important;
    border-color: #444444 !important;
}

/* In blocks explicitly marked as light, keep text dark on light backgrounds */
.da11y-theme-dark-mode .is-light,
.da11y-theme-dark-mode .is-light * {
    color: #111111 !important;
}

/* Keep accessibility trigger readable and distinct in dark mode */
.da11y-theme-dark-mode .da11y-trigger {
    background-color: #005fcc !important;
    color: #ffffff !important;
}

/* Reading mode (applied to html) */
.da11y-reading-mode-on body {
    max-width: 48rem;
    margin-left: auto;
    margin-right: auto;
}

@media (max-width: 782px) {
    .da11y-reading-mode-on body {
        max-width: 100%;
        margin-left: 0;
        margin-right: 0;
    }
}

@media (max-width: 600px) {
    .da11y-dialog {
        left: 1rem;
        right: 1rem;
        bottom: 1rem;
        max-width: none;
    }
}
